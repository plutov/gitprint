<!doctype html>
<html lang="en" class="light">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <script src="https://cdn.tailwindcss.com"></script>
        <title>{{ .Title }}</title>
        <style type="text/tailwindcss">
            body {
                @apply bg-[#ffffff] text-gray-900 font-mono text-base;
            }
            .section {
                @apply flex flex-col mx-auto w-5/6 p-6 mb-10 gap-2 rounded-md border border-gray-400 text-center;
            }
            .section:first-child {
                @apply mt-10;
            }
            .section.code {
                @apply text-left;
            }
            .section.code > pre {
                @apply text-ellipsis text-pretty text-xs overflow-hidden;
            }
            .section > h1 {
                @apply text-lg font-semibold;
            }
            .user {
                @apply flex flex-col items-center;
            }
            .user > img {
                @apply w-16 h-16 mb-3 rounded-full;
            }
            .user > span {
                @apply text-sm;
            }
        </style>
    </head>
    <body>
        <main class="flex flex-col">
            {{ range $n := .Nodes }}
            <div class="section{{if $n.Type | eq "file"}} code{{ end }}">
                {{if $n.Type | eq "meta"}}
                <h1>{{ $n.ContentMeta.FullName }}</h1>
                <p>{{ $n.ContentMeta.Description }}</p>
                <p>ref: {{ $n.ContentMeta.Ref }}</p>
                <p>License: {{ $n.ContentMeta.License }}</p>
                <p>Stars: {{ $n.ContentMeta.StargazersCount }}</p>
                <p>Forks: {{ $n.ContentMeta.ForksCount }}</p>
                <p class="text-gray-500 text-sm pt-8">
                    This PDF was generated by
                    <span class="text-teal-500">gitprint.me</span>
                </p>
                {{ end }}
                {{if $n.Type | eq "contributors"}}
                <h1>Top Contributors</h1>
                <div class="mb-4 grid grid-cols-5 gap-4">
                    {{ range $c := $n.ContentContributors.Contributors }}
                    <div class="user">
                        <img src="{{ $c.AvatarURL }}" />
                        <span>{{ $c.Username }} ({{ $c.Contributions }})</span>
                    </div>
                    {{ end }}
                </div>
                {{ end }}
                {{if $n.Type | eq "chapter"}}
                <h2>
                    Chapter {{ $n.ContentChapter.VersionMajor }}.{{
                    $n.ContentChapter.VersionMinor }}.{{
                    $n.ContentChapter.VersionPatch }}
                </h2>
                <h1>{{ $n.Title }}</h1>
                {{ end }}
                {{if $n.Type | eq "file"}}
                <h1>{{ $n.Title }}</h1>
                <pre>{{ $n.ContentFile.Content }}}</pre>
                {{ end }}
            </div>
            {{ end }}
            <div class="section">
                <h1>The End</h1>
                <p class="text-gray-500 text-sm">
                    This PDF was generated by
                    <span class="text-teal-500">gitprint.me</span>
                </p>
            </div>
        </main>
    </body>
</html>
